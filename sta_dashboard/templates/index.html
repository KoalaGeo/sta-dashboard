<!DOCTYPE html>

<head>
    <link rel="icon" type="image/png" href="https://internetofwater.org/wp-content/uploads/2018/11/cropped-iow_favicon-32x32.png" />

    <!-- Load Leaflet from CDN -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>

    <!-- Load Leaflet MarkerCluster from CDN -->
    <link rel="stylesheet" type="text/css"
        href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css"
        integrity="sha512-BBToHPBStgMiw0lD4AtkRIZmdndhB6aQbXpX7omcrXeG2PauGBl2lzq2xUZTxaLxYz5IDHlmneCZ1IJ+P3kYtQ=="
        crossorigin="">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css"
        integrity="sha512-RLEjtaFGdC4iQMJDbMzim/dOvAu+8Qp9sw7QE4wIMYcg2goVoivzwgSZq9CsIxp4xKAZPKh5J2f2lOko2Ze6FQ=="
        crossorigin="">
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"
        integrity="sha512-MQlyPV+ol2lp4KodaU/Xmrn+txc1TP15pOBF/2Sfre7MRsA/pB4Vy58bEqe9u7a7DczMLtU5wT8n7OblJepKbg=="
        crossorigin=""></script>

    <!-- Load Chart.js from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js" 
        integrity="sha512-d9xgZrVZpmmQlfonhQUvTR7lMPtO7NkZMkA0ABN3PHCbKA5nqylQ/yWlFAyY6hYgdF1Qh6nYiuADWwKB4C2WSw==" 
        crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='main.css')}}" />

</head>

<body>

    <div class="wrapper" style="width: 100%; height: 100%;">
    
        <div id="query-sidebar">
            <form id="query-filters">
                <h4 id="checkbox-title">Select endpoints:</h4>
                <input type="checkbox" name="endpoint" value="internetofwater" /> Internet of Water<br>
                <input type="checkbox" name="endpoint" value="datacove" /> datacove.eu <br>
                <input type="checkbox" name="endpoint" value="newmexicowaterdata" /> New Mexico Water Data <br>
                <input type="checkbox" name="endpoint" value="taiwan" /> Taiwan Air Quality <br>

                <h4 id="date-picker-title">Select date range: <br> (UTC time)</h4>
                <label for="start-date">Start date:</label> <br>
                <input type="date" name="start-date" id="start-date"> <br>
                <label for="end-date">End date:</label> <br>
                <input type="date" name="end-date" id="end-date"> <br>
                <br>
                <input type="submit">
            </form>

        </div>

        <div id="map-wrapper" class="map-display-area">
            <div id="map-loader" class="map-display-area">
                <p>Loading...</p>
            </div>

            <div id="visualizationModal" class="map-display-area">
                <canvas id="scatterChart" style="width: 600px; height: 400px;"></canvas>
            </div>

            <div id="map" class="map-display-area">
                <script src="{{ url_for('static', filename='index.js') }}"></script>
                <script>
                    var map = L.map('map', {
                        center: [35.99,  -78.90],
                        zoom: 5
                    });

                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        id: 'tileLayer',
                        maxZoom: 19,
                        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                    }).addTo(map);

                </script>
            </div>
        </div>

    </div>
</body>

</html>